"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[759],{9759:(t,e,n)=>{n.r(e),n.d(e,{default:()=>r});var a=n(7757),i=n.n(a);function o(t,e,n,a,i,o,s){try{var r=t[o](s),c=r.value}catch(t){return void n(t)}r.done?e(c):Promise.resolve(c).then(a,i)}const s={name:"Notification",data:function(){return{items:[],headers:[{text:"#",value:"index"},{text:"Publication date",value:"publicationDate"},{text:"Title",value:"title"},{text:"Buildings",value:"isForAll"}],loading:!0,page:1,pageCount:0,itemsPerPage:10}},created:function(){this.fetchNotifications()},methods:{fetchNotifications:function(){var t,e=this;return(t=i().mark((function t(){return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,axios.get("https://api.kaplankaya.app/api/Notices/GetByOSIId",{params:{OSIId:e.$store.state.user_id,PageNumber:1,PageSize:1e4}}).then((function(t){e.items=t.data.data,e.loading=!1}));case 2:case"end":return t.stop()}}),t)})),function(){var e=this,n=arguments;return new Promise((function(a,i){var s=t.apply(e,n);function r(t){o(s,a,i,r,c,"next",t)}function c(t){o(s,a,i,r,c,"throw",t)}r(void 0)}))})()},openItem:function(t){this.$router.push({name:"notifications_edit",params:{id:t.id}})}}};const r=(0,n(1900).Z)(s,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("v-row",[n("v-col",{staticClass:"d-flex justify-space-between align-center"},[n("h1",[t._v("Notifications")]),t._v(" "),n("div",[n("v-btn",{attrs:{dark:"",color:"brand",to:"notifications/create"}},[n("v-icon",{attrs:{left:""}},[t._v("mdi-plus")]),t._v("\n                    Add notification\n                ")],1)],1)])],1),t._v(" "),n("v-row",[n("v-col",[n("div",{staticClass:"text-center pt-2 pb-5"},[n("v-pagination",{attrs:{length:t.pageCount},model:{value:t.page,callback:function(e){t.page=e},expression:"page"}})],1),t._v(" "),n("v-data-table",{staticClass:"elevation-1",staticStyle:{cursor:"pointer"},attrs:{headers:t.headers,items:t.items,page:t.page,"items-per-page":t.itemsPerPage,loading:t.loading,"loading-text":"Loading... Please wait","hide-default-footer":""},on:{"update:page":function(e){t.page=e},"page-count":function(e){t.pageCount=e},"click:row":t.openItem},scopedSlots:t._u([{key:"item.index",fn:function(e){var n=e.index;return[t._v("\n                    "+t._s(n+1)+"\n                ")]}},{key:"item.title",fn:function(e){var a=e.item;return[n("span",{staticClass:"font-weight-bold"},[t._v(t._s(a.title))])]}}])})],1)],1)],1)}),[],!1,null,null,null).exports}}]);